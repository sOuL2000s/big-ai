/* app/globals.css */
@import "tailwindcss";

/* Import PrismJS themes */
/* The dark theme import was in ChatBubble.tsx, moving it here ensures it applies globally */
@import 'prismjs/themes/prism-tomorrow.css'; /* Using 'tomorrow' for a modern, sleek dark look */

/*
 * --- Global Default Variables (Small AI v2 Default Light) ---
 */
:root {
  --bg-primary: #f3f4f6;
  --bg-secondary: #ffffff;
  --text-primary: #1f2937;
  --text-secondary: #4b5563;
  --border-color: #e5e7eb;
  --card-bg: #ffffff;
  --card-border: #e5e7eb; /* NEW */
  --header-bg: #f9fafb;
  --accent-primary: #2563eb; /* blue-600 */
  --accent-primary-hover: #1d4ed8; /* blue-700 */
  --accent-secondary: #fcd34d; /* amber-300 */
  --accent-error: #ef4444; /* red-500 */
  --accent-success: #22c55e; /* green-500 */
  --user-bubble-bg: #bfdbfe; /* blue-200 */
  --user-bubble-text: #1e40af; /* blue-700 */
  --ai-bubble-bg: #f3f4f6; /* gray-100 */
  --ai-bubble-text: #374151; /* gray-700 */
  --sidebar-bg: #ffffff;
  --sidebar-border: #e5e7eb;
  --sidebar-item-hover: #f3f4f6;
  --loader-dot-color: var(--accent-primary);
  --code-block-bg: #f5f7fa;
  --code-block-header-bg: #e8ebf0;
  --code-block-border: #e2e4e8;
  --conversation-indicator: var(--accent-primary);
  --main-chat-window-bg: rgba(255, 255, 255, 0.8); /* NEW */
  --conversation-bg: rgba(255, 255, 255, 0.95); /* NEW */
  --conversation-text: #1f2937; /* NEW */
}

/*
 * --- Default Dark Mode (Fallback/Original) ---
 */
[data-theme$="-dark"] {
  :root {
    --bg-primary: #0a0a0a;
    --bg-secondary: #171717;
    --text-primary: #e5e7eb;
    --text-secondary: #a1a1aa;
    --border-color: #2d3748;
    --card-bg: #1f2937;
    --card-border: #2d3748;
    --header-bg: #1f2937;
    --accent-primary: #60a5fa; /* blue-400 */
    --accent-primary-hover: #3b82f6; /* blue-500 */
    --accent-secondary: #fcd34d; /* amber-300 */
    --accent-error: #f87171; /* red-400 */
    --accent-success: #4ade80; /* green-400 */
    --user-bubble-bg: #1e3a8a; /* blue-800 */
    --user-bubble-text: #e0f2fe; /* blue-100 */
    --ai-bubble-bg: #374151; /* gray-700 */
    --ai-bubble-text: #f9fafb; /* gray-50 */
    --sidebar-bg: #0a0a0a;
    --sidebar-border: #2d3748;
    --sidebar-item-hover: #171717;
    --code-block-bg: #1f2937;
    --code-block-header-bg: #171717;
    --code-block-border: #2d3748;
    --main-chat-window-bg: rgba(19, 19, 26, 0.9);
    --conversation-bg: rgba(19, 19, 26, 0.95);
    --conversation-text: #e5e7eb;
    --conversation-indicator: #818cf8;
  }
}

@media (prefers-color-scheme: dark) {
  :root {
    --bg-primary: #0a0a0a;
    --bg-secondary: #171717;
    --text-primary: #e5e7eb;
    --text-secondary: #a1a1aa;
    --border-color: #2d3748;
    --card-bg: #1f2937;
    --card-border: #2d3748;
    --header-bg: #1f2937;
    --accent-primary: #60a5fa; /* blue-400 */
    --accent-primary-hover: #3b82f6; /* blue-500 */
    --accent-secondary: #fcd34d; /* amber-300 */
    --accent-error: #f87171; /* red-400 */
    --accent-success: #4ade80; /* green-400 */
    --user-bubble-bg: #1e3a8a; /* blue-800 */
    --user-bubble-text: #e0f2fe; /* blue-100 */
    --ai-bubble-bg: #374151; /* gray-700 */
    --ai-bubble-text: #f9fafb; /* gray-50 */
    --sidebar-bg: #0a0a0a;
    --sidebar-border: #2d3748;
    --sidebar-item-hover: #171717;
    --code-block-bg: #1f2937;
    --code-block-header-bg: #171717;
    --code-block-border: #2d3748;
    --main-chat-window-bg: rgba(19, 19, 26, 0.9);
    --conversation-bg: rgba(19, 19, 26, 0.95);
    --conversation-text: #e5e7eb;
    --conversation-indicator: #818cf8;
  }
}

/* --- MERGED THEMES FROM PART 2 START --- */
/* Celestial Horizon Theme: Dark Mode (Existing, standardized) */
[data-theme="celestial-horizon-dark"] {
    --bg-primary: #0D1117;
    --bg-secondary: #161B22;
    --text-primary: #C9D1D9;
    --text-secondary: #8B949E;
    --border-color: #30363D;
    --card-bg: #1F2633;
    --card-border: #30363D;
    --header-bg: #161B22;
    --accent-primary: #58A6FF;
    --accent-primary-hover: #388BF2;
    --accent-secondary: #B1B8C1;
    --accent-error: #F87171;
    --accent-success: #4ADE80;
    --user-bubble-bg: #253B64;
    --user-bubble-text: #E0F2FE;
    --ai-bubble-bg: #1F2633;
    --ai-bubble-text: #C9D1D9;
    --sidebar-bg: #161B22;
    --sidebar-border: #30363D;
    --sidebar-item-hover: #1F2633;
    --code-block-bg: #1F2633;
    --code-block-header-bg: #161B22;
    --code-block-border: #30363D;
    --conversation-indicator: #58A6FF;
    --main-chat-window-bg: rgba(22, 27, 34, 0.9);
    --conversation-bg: rgba(22, 27, 34, 0.95);
    --conversation-text: #C9D1D9;
}

/* Celestial Horizon Theme: Light Mode */
[data-theme="celestial-horizon-light"] {
    --bg-primary: #F0F4F8;
    --bg-secondary: #FFFFFF;
    --text-primary: #2D3748;
    --text-secondary: #718096;
    --border-color: #E2E8F0;
    --card-bg: #FFFFFF;
    --card-border: #E2E8F0;
    --header-bg: #EDF2F7;
    --accent-primary: #3B82F6;
    --accent-primary-hover: #2563EB;
    --accent-secondary: #60A5FA;
    --accent-error: #EF4444;
    --accent-success: #22C55E;
    --user-bubble-bg: #DBEAFE;
    --user-bubble-text: #1E40AF;
    --ai-bubble-bg: #EBF4FF;
    --ai-bubble-text: #2D3748;
    --sidebar-bg: #FFFFFF;
    --sidebar-border: #E2E8F0;
    --sidebar-item-hover: #F0F4F8;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(255, 255, 255, 0.8);
    --conversation-bg: rgba(255, 255, 255, 0.95);
    --conversation-text: #2D3748;
    --conversation-indicator: #3B82F6;
    --code-block-bg: #EBF4FF;
    --code-block-header-bg: #EDF2F7;
    --code-block-border: #E2E8F0;
}

/* Verdant Calm Theme: Dark Mode */
[data-theme="verdant-calm-dark"] {
    --bg-primary: #1a2a22;
    --bg-secondary: #21362d;
    --text-primary: #e0f2e8;
    --text-secondary: #99bbaa;
    --border-color: #3f544c;
    --card-bg: #294237;
    --card-border: #4a6356;
    --header-bg: #2c493c;
    --accent-primary: #3cb878;
    --accent-primary-hover: #2fa163;
    --accent-secondary: #60c58e;
    --accent-error: #f87171;
    --accent-success: #4ade80;
    --user-bubble-bg: #1e8449;
    --user-bubble-text: #e0f2e8;
    --ai-bubble-bg: #34495e;
    --ai-bubble-text: #e0f2e8;
    --sidebar-bg: #21362d;
    --sidebar-border: #3f544c;
    --sidebar-item-hover: #2c493c;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(33, 54, 45, 0.9);
    --conversation-bg: rgba(33, 54, 45, 0.95);
    --conversation-text: #e0f2e8;
    --conversation-indicator: #3cb878;
    --code-block-bg: #34495e;
    --code-block-header-bg: #2c493c;
    --code-block-border: #3f544c;
}

/* Verdant Calm Theme: Light Mode */
[data-theme="verdant-calm-light"] {
    --bg-primary: #edf9f5;
    --bg-secondary: #ffffff;
    --text-primary: #2d3f35;
    --text-secondary: #5e7d6b;
    --border-color: #dbeae5;
    --card-bg: #ffffff;
    --card-border: #dbeae5;
    --header-bg: #f5fcf9;
    --accent-primary: #3cb878;
    --accent-primary-hover: #2fa163;
    --accent-secondary: #60c58e;
    --accent-error: #ef4444;
    --accent-success: #22c55e;
    --user-bubble-bg: #c8e6c9;
    --user-bubble-text: #1b5e20;
    --ai-bubble-bg: #e8f5e9;
    --ai-bubble-text: #388e3c;
    --sidebar-bg: #ffffff;
    --sidebar-border: #dbeae5;
    --sidebar-item-hover: #edf9f5;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(255, 255, 255, 0.8);
    --conversation-bg: rgba(255, 255, 255, 0.95);
    --conversation-text: #2d3f35;
    --conversation-indicator: #3cb878;
    --code-block-bg: #e8f5e9;
    --code-block-header-bg: #f5fcf9;
    --code-block-border: #dbeae5;
}

/* Cybernetic Pulse Theme: Dark Mode */
[data-theme="cybernetic-pulse-dark"] {
    --bg-primary: #0a0e1a;
    --bg-secondary: #161c28;
    --text-primary: #e2e8f0;
    --text-secondary: #94a3b8;
    --border-color: #2f3e52;
    --card-bg: #1f2a3a;
    --card-border: #3a4b5e;
    --header-bg: #1f2a3a;
    --accent-primary: #0ea5e9;
    --accent-primary-hover: #0284c7;
    --accent-secondary: #38bdf8;
    --accent-error: #f87171;
    --accent-success: #4ade80;
    --user-bubble-bg: #0c4a6e;
    --user-bubble-text: #e0f2fe;
    --ai-bubble-bg: #2d3748;
    --ai-bubble-text: #f0f8ff;
    --sidebar-bg: #161c28;
    --sidebar-border: #2f3e52;
    --sidebar-item-hover: #1f2a3a;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(22, 28, 40, 0.9);
    --conversation-bg: rgba(22, 28, 40, 0.95);
    --conversation-text: #e2e8f0;
    --conversation-indicator: #0ea5e9;
    --code-block-bg: #2d3748;
    --code-block-header-bg: #1f2a3a;
    --code-block-border: #2f3e52;
}

/* Cybernetic Pulse Theme: Light Mode */
[data-theme="cybernetic-pulse-light"] {
    --bg-primary: #f8fafc;
    --bg-secondary: #ffffff;
    --text-primary: #1e293b;
    --text-secondary: #475569;
    --border-color: #e0e7f2;
    --card-bg: #ffffff;
    --card-border: #e0e7f2;
    --header-bg: #f1f5f9;
    --accent-primary: #0ea5e9;
    --accent-primary-hover: #0284c7;
    --accent-secondary: #38bdf8;
    --accent-error: #ef4444;
    --accent-success: #22c55e;
    --user-bubble-bg: #bfdbfe;
    --user-bubble-text: #1e3a8a;
    --ai-bubble-bg: #e0f2fe;
    --ai-bubble-text: #0284c7;
    --sidebar-bg: #ffffff;
    --sidebar-border: #e0e7f2;
    --sidebar-item-hover: #f1f5f9;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(255, 255, 255, 0.8);
    --conversation-bg: rgba(255, 255, 255, 0.95);
    --conversation-text: #1e293b;
    --conversation-indicator: #0ea5e9;
    --code-block-bg: #e0f2fe;
    --code-block-header-bg: #f1f5f9;
    --code-block-border: #e0e7f2;
}

/* Urban Pulse Theme: Dark Mode */
[data-theme="urban-pulse-dark"] {
    --bg-primary: #1A1A1D;
    --bg-secondary: #242426;
    --text-primary: #F0F0F0;
    --text-secondary: #A0A0A0;
    --border-color: #38383B;
    --card-bg: #242426;
    --card-border: #38383B;
    --header-bg: #1A1A1D;
    --accent-primary: #00BFFF;
    --accent-primary-hover: #009ACD;
    --accent-secondary: #66CCFF;
    --accent-error: #F87171;
    --accent-success: #4ADE80;
    --user-bubble-bg: #0F4C81;
    --user-bubble-text: #E0FFFF;
    --ai-bubble-bg: #36454F;
    --ai-bubble-text: #F0F0F0;
    --sidebar-bg: #1A1A1D;
    --sidebar-border: #38383B;
    --sidebar-item-hover: #242426;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(36, 36, 38, 0.9);
    --conversation-bg: rgba(36, 36, 38, 0.95);
    --conversation-text: #F0F0F0;
    --conversation-indicator: #00BFFF;
    --code-block-bg: #36454F;
    --code-block-header-bg: #1A1A1D;
    --code-block-border: #38383B;
}

/* Urban Pulse Theme: Light Mode */
[data-theme="urban-pulse-light"] {
    --bg-primary: #F2F4F8;
    --bg-secondary: #FFFFFF;
    --text-primary: #333333;
    --text-secondary: #777777;
    --border-color: #DDE2E8;
    --card-bg: #FFFFFF;
    --card-border: #DDE2E8;
    --header-bg: #E8ECF2;
    --accent-primary: #1E90FF;
    --accent-primary-hover: #107EEB;
    --accent-secondary: #63B2FF;
    --accent-error: #EF4444;
    --accent-success: #22C55E;
    --user-bubble-bg: #CCE5FF;
    --user-bubble-text: #003F8C;
    --ai-bubble-bg: #E8F0F5;
    --ai-bubble-text: #333333;
    --sidebar-bg: #FFFFFF;
    --sidebar-border: #DDE2E8;
    --sidebar-item-hover: #E8F0F5;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(255, 255, 255, 0.8);
    --conversation-bg: rgba(255, 255, 255, 0.95);
    --conversation-text: #333333;
    --conversation-indicator: #1E90FF;
    --code-block-bg: #E8F0F5;
    --code-block-header-bg: #E8ECF2;
    --code-block-border: #DDE2E8;
}

/* Rustic Ember Theme: Dark Mode */
[data-theme="rustic-ember-dark"] {
    --bg-primary: #3E2723;
    --bg-secondary: #4E342E;
    --text-primary: #FBE9E7;
    --text-secondary: #BCAAA4;
    --border-color: #5D4037;
    --card-bg: #4E342E;
    --card-border: #5D4037;
    --header-bg: #3E2723;
    --accent-primary: #D84315;
    --accent-primary-hover: #BF360C;
    --accent-secondary: #FF8A65;
    --accent-error: #F87171;
    --accent-success: #4ADE80;
    --user-bubble-bg: #8D6E63;
    --user-bubble-text: #FBE9E7;
    --ai-bubble-bg: #5D4037;
    --ai-bubble-text: #FBE9E7;
    --sidebar-bg: #3E2723;
    --sidebar-border: #5D4037;
    --sidebar-item-hover: #4E342E;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(78, 52, 46, 0.9);
    --conversation-bg: rgba(78, 52, 46, 0.95);
    --conversation-text: #FBE9E7;
    --conversation-indicator: #D84315;
    --code-block-bg: #5D4037;
    --code-block-header-bg: #3E2723;
    --code-block-border: #5D4037;
}

/* Rustic Ember Theme: Light Mode */
[data-theme="rustic-ember-light"] {
    --bg-primary: #F5E8DC;
    --bg-secondary: #FFFFFF;
    --text-primary: #4E342E;
    --text-secondary: #8D6E63;
    --border-color: #E6DCCD;
    --card-bg: #FFFFFF;
    --card-border: #E6DCCD;
    --header-bg: #F8EFE5;
    --accent-primary: #E65100;
    --accent-primary-hover: #D84315;
    --accent-secondary: #FFB74D;
    --accent-error: #EF4444;
    --accent-success: #22C55E;
    --user-bubble-bg: #FFCCBC;
    --user-bubble-text: #BF360C;
    --ai-bubble-bg: #FBE9E7;
    --ai-bubble-text: #4E342E;
    --sidebar-bg: #FFFFFF;
    --sidebar-border: #E6DCCD;
    --sidebar-item-hover: #F8EFE5;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(255, 255, 255, 0.8);
    --conversation-bg: rgba(255, 255, 255, 0.95);
    --conversation-text: #4E342E;
    --conversation-indicator: #E65100;
    --code-block-bg: #FBE9E7;
    --code-block-header-bg: #F8EFE5;
    --code-block-border: #E6DCCD;
}

/* Neon Mirage Theme: Dark Mode */
[data-theme="neon-mirage-dark"] {
    --bg-primary: #05001C;
    --bg-secondary: #120033;
    --text-primary: #E0FFFF;
    --text-secondary: #8A2BE2;
    --border-color: #2F004F;
    --card-bg: #1A0040;
    --card-border: #2F004F;
    --header-bg: #120033;
    --accent-primary: #FF1493;
    --accent-primary-hover: #C7007C;
    --accent-secondary: #00BFFF;
    --accent-error: #F87171;
    --accent-success: #4ADE80;
    --user-bubble-bg: #4B0082;
    --user-bubble-text: #E0FFFF;
    --ai-bubble-bg: #2E0854;
    --ai-bubble-text: #E0FFFF;
    --sidebar-bg: #120033;
    --sidebar-border: #2F004F;
    --sidebar-item-hover: #1A0040;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(26, 0, 64, 0.9);
    --conversation-bg: rgba(26, 0, 64, 0.95);
    --conversation-text: #E0FFFF;
    --conversation-indicator: #FF1493;
    --code-block-bg: #2E0854;
    --code-block-header-bg: #120033;
    --code-block-border: #2F004F;
}

/* Neon Mirage Theme: Light Mode */
[data-theme="neon-mirage-light"] {
    --bg-primary: #F8F0FF;
    --bg-secondary: #FFFFFF;
    --text-primary: #330066;
    --text-secondary: #663399;
    --border-color: #EBD9FC;
    --card-bg: #FFFFFF;
    --card-border: #EBD9FC;
    --header-bg: #F2E0FF;
    --accent-primary: #FF69B4;
    --accent-primary-hover: #E0509B;
    --accent-secondary: #87CEEB;
    --accent-error: #EF4444;
    --accent-success: #22C55E;
    --user-bubble-bg: #FCE4EC;
    --user-bubble-text: #C2185B;
    --ai-bubble-bg: #F3E5F5;
    --ai-bubble-text: #330066;
    --sidebar-bg: #FFFFFF;
    --sidebar-border: #EBD9FC;
    --sidebar-item-hover: #F2E0FF;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(255, 255, 255, 0.8);
    --conversation-bg: rgba(255, 255, 255, 0.95);
    --conversation-text: #330066;
    --conversation-indicator: #FF69B4;
    --code-block-bg: #F3E5F5;
    --code-block-header-bg: #F2E0FF;
    --code-block-border: #EBD9FC;
}

/* Ivory Bloom Theme: Dark Mode */
[data-theme="ivory-bloom-dark"] {
    --bg-primary: #2B2D42;
    --bg-secondary: #4A4E69;
    --text-primary: #DCDCDC;
    --text-secondary: #A0A4B8;
    --border-color: #5D607E;
    --card-bg: #4A4E69;
    --card-border: #5D607E;
    --header-bg: #373A50;
    --accent-primary: #9B59B6;
    --accent-primary-hover: #8E44AD;
    --accent-secondary: #66CCFF;
    --accent-error: #F87171;
    --accent-success: #4ADE80;
    --user-bubble-bg: #7C4F9B;
    --user-bubble-text: #FFFFFF;
    --ai-bubble-bg: #5D607E;
    --ai-bubble-text: #DCDCDC;
    --sidebar-bg: #2B2D42;
    --sidebar-border: #5D607E;
    --sidebar-item-hover: #373A50;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(74, 78, 105, 0.9);
    --conversation-bg: rgba(74, 78, 105, 0.95);
    --conversation-text: #DCDCDC;
    --conversation-indicator: #9B59B6;
    --code-block-bg: #5D607E;
    --code-block-header-bg: #373A50;
    --code-block-border: #5D607E;
}

/* Ivory Bloom Theme: Light Mode */
[data-theme="ivory-bloom-light"] {
    --bg-primary: #FDFDFD;
    --bg-secondary: #FFFFFF;
    --text-primary: #333333;
    --text-secondary: #777777;
    --border-color: #EAEAEA;
    --card-bg: #FFFFFF;
    --card-border: #EAEAEA;
    --header-bg: #F5F5F5;
    --accent-primary: #8E44AD;
    --accent-primary-hover: #7F3C9E;
    --accent-secondary: #BA68C8;
    --accent-error: #EF4444;
    --accent-success: #22C55E;
    --user-bubble-bg: #F2E6F7;
    --user-bubble-text: #5D2C7B;
    --ai-bubble-bg: #EAE0F0;
    --ai-bubble-text: #333333;
    --sidebar-bg: #FFFFFF;
    --sidebar-border: #EAEAEA;
    --sidebar-item-hover: #F5F5F5;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(255, 255, 255, 0.8);
    --conversation-bg: rgba(255, 255, 255, 0.95);
    --conversation-text: #333333;
    --conversation-indicator: #8E44AD;
    --code-block-bg: #EAE0F0;
    --code-block-header-bg: #F5F5F5;
    --code-block-border: #EAEAEA;
}

/* Obsidian Night Theme: Dark Mode */
[data-theme="obsidian-night-dark"] {
    --bg-primary: #121212;
    --bg-secondary: #1E1E1E;
    --text-primary: #F0F0F0;
    --text-secondary: #A0A0A0;
    --border-color: #333333;
    --card-bg: #1E1E1E;
    --card-border: #333333;
    --header-bg: #121212;
    --accent-primary: #BB86FC;
    --accent-primary-hover: #9E65E2;
    --accent-secondary: #03DAC6;
    --accent-error: #CF6679;
    --accent-success: #03DAC6;
    --user-bubble-bg: #3700B3;
    --user-bubble-text: #FFFFFF;
    --ai-bubble-bg: #2C2C2C;
    --ai-bubble-text: #F0F0F0;
    --sidebar-bg: #121212;
    --sidebar-border: #333333;
    --sidebar-item-hover: #1E1E1E;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(30, 30, 30, 0.9);
    --conversation-bg: rgba(30, 30, 30, 0.95);
    --conversation-text: #F0F0F0;
    --conversation-indicator: #BB86FC;
    --code-block-bg: #2C2C2C;
    --code-block-header-bg: #121212;
    --code-block-border: #333333;
}

/* Obsidian Night Theme: Light Mode */
[data-theme="obsidian-night-light"] {
    --bg-primary: #E0E0E0;
    --bg-secondary: #FFFFFF;
    --text-primary: #2C2C2C;
    --text-secondary: #6B6B6B;
    --border-color: #C0C0C0;
    --card-bg: #FFFFFF;
    --card-border: #C0C0C0;
    --header-bg: #D0D0D0;
    --accent-primary: #6200EE;
    --accent-primary-hover: #5B00D9;
    --accent-secondary: #018786;
    --accent-error: #B00020;
    --accent-success: #018786;
    --user-bubble-bg: #BBDEFB;
    --user-bubble-text: #1A237E;
    --ai-bubble-bg: #E0E0E0;
    --ai-bubble-text: #2C2C2C;
    --sidebar-bg: #FFFFFF;
    --sidebar-border: #C0C0C0;
    --sidebar-item-hover: #D0D0D0;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(255, 255, 255, 0.8);
    --conversation-bg: rgba(255, 255, 255, 0.95);
    --conversation-text: #2C2C2C;
    --conversation-indicator: #6200EE;
    --code-block-bg: #E0E0E0;
    --code-block-header-bg: #D0D0D0;
    --code-block-border: #C0C0C0;
}

/* Solar Dawn Theme: Dark Mode */
[data-theme="solar-dawn-dark"] {
    --bg-primary: #1A0E2A;
    --bg-secondary: #2C1840;
    --text-primary: #FCE8D8;
    --text-secondary: #D8BFD8;
    --border-color: #40265B;
    --card-bg: #2C1840;
    --card-border: #40265B;
    --header-bg: #1A0E2A;
    --accent-primary: #FF5722;
    --accent-primary-hover: #E64A19;
    --accent-secondary: #FFCC80;
    --accent-error: #F87171;
    --accent-success: #4ADE80;
    --user-bubble-bg: #7C4F9B;
    --user-bubble-text: #FCE8D8;
    --ai-bubble-bg: #40265B;
    --ai-bubble-text: #FCE8D8;
    --sidebar-bg: #1A0E2A;
    --sidebar-border: #40265B;
    --sidebar-item-hover: #2C1840;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(44, 24, 64, 0.9);
    --conversation-bg: rgba(44, 24, 64, 0.95);
    --conversation-text: #FCE8D8;
    --conversation-indicator: #FF5722;
    --code-block-bg: #40265B;
    --code-block-header-bg: #1A0E2A;
    --code-block-border: #40265B;
}

/* Solar Dawn Theme: Light Mode */
[data-theme="solar-dawn-light"] {
    --bg-primary: #FFFBEA;
    --bg-secondary: #FFFFFF;
    --text-primary: #3E2723;
    --text-secondary: #8D6E63;
    --border-color: #FFE0B2;
    --card-bg: #FFFFFF;
    --card-border: #FFE0B2;
    --header-bg: #FFF3E0;
    --accent-primary: #FF8F00;
    --accent-primary-hover: #FF6F00;
    --accent-secondary: #FFD54F;
    --accent-error: #F87171;
    --accent-success: #4ADE80;
    --user-bubble-bg: #FFE0B2;
    --user-bubble-text: #E65100;
    --ai-bubble-bg: #FFF3E0;
    --ai-bubble-text: #3E2723;
    --sidebar-bg: #FFFFFF;
    --sidebar-border: #FFE0B2;
    --sidebar-item-hover: #FFF3E0;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(255, 255, 255, 0.8);
    --conversation-bg: rgba(255, 255, 255, 0.95);
    --conversation-text: #3E2723;
    --conversation-indicator: #FF8F00;
    --code-block-bg: #FFF3E0;
    --code-block-header-bg: #FFFBEA;
    --code-block-border: #FFE0B2;
}

/* Aurora Drift Theme: Dark Mode */
[data-theme="aurora-drift-dark"] {
    --bg-primary: #0A192F;
    --bg-secondary: #172A45;
    --text-primary: #E6F0FF;
    --text-secondary: #A0B3D6;
    --border-color: #2F476D;
    --card-bg: #172A45;
    --card-border: #2F476D;
    --header-bg: #0A192F;
    --accent-primary: #66CCCC;
    --accent-primary-hover: #55B3B3;
    --accent-secondary: #99CCFF;
    --accent-error: #F87171;
    --accent-success: #4ADE80;
    --user-bubble-bg: #336699;
    --user-bubble-text: #E6F0FF;
    --ai-bubble-bg: #2F476D;
    --ai-bubble-text: #E6F0FF;
    --sidebar-bg: #0A192F;
    --sidebar-border: #2F476D;
    --sidebar-item-hover: #172A45;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(23, 42, 69, 0.9);
    --conversation-bg: rgba(23, 42, 69, 0.95);
    --conversation-text: #E6F0FF;
    --conversation-indicator: #66CCCC;
    --code-block-bg: #2F476D;
    --code-block-header-bg: #0A192F;
    --code-block-border: #2F476D;
}

/* Aurora Drift Theme: Light Mode */
[data-theme="aurora-drift-light"] {
    --bg-primary: #E0F2F7;
    --bg-secondary: #FFFFFF;
    --text-primary: #2B4550;
    --text-secondary: #5E7A8A;
    --border-color: #B2EBF2;
    --card-bg: #FFFFFF;
    --card-border: #B2EBF2;
    --header-bg: #CCEEF0;
    --accent-primary: #00BCD4;
    --accent-primary-hover: #00ACC1;
    --accent-secondary: #4DD0E1;
    --accent-error: #EF4444;
    --accent-success: #22C55E;
    --user-bubble-bg: #B2EBF2;
    --user-bubble-text: #006064;
    --ai-bubble-bg: #CCEEF0;
    --ai-bubble-text: #2B4550;
    --sidebar-bg: #FFFFFF;
    --sidebar-border: #B2EBF2;
    --sidebar-item-hover: #CCEEF0;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(255, 255, 255, 0.8);
    --conversation-bg: rgba(255, 255, 255, 0.95);
    --conversation-text: #2B4550;
    --conversation-indicator: #00BCD4;
    --code-block-bg: #CCEEF0;
    --code-block-header-bg: #E0F2F7;
    --code-block-border: #B2EBF2;
}

/* Timeless Echo Theme: Dark Mode */
[data-theme="timeless-echo-dark"] {
    --bg-primary: #2C2C2C;
    --bg-secondary: #3D3D3D;
    --text-primary: #E0E0E0;
    --text-secondary: #B0B0B0;
    --border-color: #555555;
    --card-bg: #3D3D3D;
    --card-border: #555555;
    --header-bg: #2C2C2C;
    --accent-primary: #A57C52;
    --accent-primary-hover: #8B653D;
    --accent-secondary: #C8A87C;
    --accent-error: #F87171;
    --accent-success: #4ADE80;
    --user-bubble-bg: #785A3D;
    --user-bubble-text: #E0E0E0;
    --ai-bubble-bg: #555555;
    --ai-bubble-text: #E0E0E0;
    --sidebar-bg: #2C2C2C;
    --sidebar-border: #555555;
    --sidebar-item-hover: #3D3D3D;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(61, 61, 61, 0.9);
    --conversation-bg: rgba(61, 61, 61, 0.95);
    --conversation-text: #E0E0E0;
    --conversation-indicator: #A57C52;
    --code-block-bg: #555555;
    --code-block-header-bg: #2C2C2C;
    --code-block-border: #555555;
}

/* Timeless Echo Theme: Light Mode */
[data-theme="timeless-echo-light"] {
    --bg-primary: #FDF7E5;
    --bg-secondary: #FFFFFF;
    --text-primary: #4A4A4A;
    --text-secondary: #808080;
    --border-color: #E6E0D3;
    --card-bg: #FFFFFF;
    --card-border: #E6E0D3;
    --header-bg: #F5EFEB;
    --accent-primary: #8D6E63;
    --accent-primary-hover: #795548;
    --accent-secondary: #BCAAA4;
    --accent-error: #EF4444;
    --accent-success: #22C55E;
    --user-bubble-bg: #D7CCC8;
    --user-bubble-text: #5D4037;
    --ai-bubble-bg: #EFEBE9;
    --ai-bubble-text: #4A4A4A;
    --sidebar-bg: #FFFFFF;
    --sidebar-border: #E6E0D3;
    --sidebar-item-hover: #F5EFEB;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(255, 255, 255, 0.8);
    --conversation-bg: rgba(255, 255, 255, 0.95);
    --conversation-text: #4A4A4A;
    --conversation-indicator: #8D6E63;
    --code-block-bg: #EFEBE9;
    --code-block-header-bg: #F5EFEB;
    --code-block-border: #E6E0D3;
}

/* Mystic Void Theme: Dark Mode */
[data-theme="mystic-void-dark"] {
    --bg-primary: #110B1D;
    --bg-secondary: #1F1731;
    --text-primary: #ECE4F7;
    --text-secondary: #B29BCE;
    --border-color: #372A4F;
    --card-bg: #1F1731;
    --card-border: #372A4F;
    --header-bg: #110B1D;
    --accent-primary: #9400D3;
    --accent-primary-hover: #7B00B0;
    --accent-secondary: #8A2BE2;
    --accent-error: #F87171;
    --accent-success: #4ADE80;
    --user-bubble-bg: #5B2C7B;
    --user-bubble-text: #ECE4F7;
    --ai-bubble-bg: #372A4F;
    --ai-bubble-text: #ECE4F7;
    --sidebar-bg: #110B1D;
    --sidebar-border: #372A4F;
    --sidebar-item-hover: #1F1731;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(31, 23, 49, 0.9);
    --conversation-bg: rgba(31, 23, 49, 0.95);
    --conversation-text: #ECE4F7;
    --conversation-indicator: #9400D3;
    --code-block-bg: #372A4F;
    --code-block-header-bg: #110B1D;
    --code-block-border: #372A4F;
}

/* Mystic Void Theme: Light Mode */
[data-theme="mystic-void-light"] {
    --bg-primary: #F7EDFF;
    --bg-secondary: #FFFFFF;
    --text-primary: #330066;
    --text-secondary: #663399;
    --border-color: #EBD9FC;
    --card-bg: #FFFFFF;
    --card-border: #EBD9FC;
    --header-bg: #F2E0FF;
    --accent-primary: #8A2BE2;
    --accent-primary-hover: #7B1FB2;
    --accent-secondary: #9370DB;
    --accent-error: #EF4444;
    --accent-success: #22C55E;
    --user-bubble-bg: #E6D2F2;
    --user-bubble-text: #4B0082;
    --ai-bubble-bg: #F0E6F8;
    --ai-bubble-text: #330066;
    --sidebar-bg: #FFFFFF;
    --sidebar-border: #EBD9FC;
    --sidebar-item-hover: #F2E0FF;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(255, 255, 255, 0.8);
    --conversation-bg: rgba(255, 255, 255, 0.95);
    --conversation-text: #330066;
    --conversation-indicator: #8A2BE2;
    --code-block-bg: #F0E6F8;
    --code-block-header-bg: #F2E0FF;
    --code-block-border: #EBD9FC;
}

/* Darkest Black & White Theme: Dark Mode */
[data-theme="darkest-bw-dark"] {
    --bg-primary: #000000;
    --bg-secondary: #111111;
    --text-primary: #FFFFFF;
    --text-secondary: #AAAAAA;
    --border-color: #333333;
    --card-bg: #111111;
    --card-border: #333333;
    --header-bg: #0A0A0A;
    --accent-primary: #E0E0E0;
    --accent-primary-hover: #FFFFFF;
    --accent-secondary: #888888;
    --accent-error: #F87171;
    --accent-success: #4ADE80;
    --user-bubble-bg: #222222;
    --user-bubble-text: #FFFFFF;
    --ai-bubble-bg: #333333;
    --ai-bubble-text: #FFFFFF;
    --sidebar-bg: #000000;
    --sidebar-border: #333333;
    --sidebar-item-hover: #111111;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: #000000;
    --conversation-bg: #000000;
    --conversation-text: #FFFFFF;
    --conversation-indicator: #FFFFFF;
    --code-block-bg: #333333;
    --code-block-header-bg: #0A0A0A;
    --code-block-border: #333333;
}

/* Darkest Black & White Theme: Light Mode */
[data-theme="darkest-bw-light"] {
    --bg-primary: #FFFFFF;
    --bg-secondary: #F0F0F0;
    --text-primary: #000000;
    --text-secondary: #555555;
    --border-color: #DDDDDD;
    --card-bg: #F0F0F0;
    --card-border: #DDDDDD;
    --header-bg: #F5F5F5;
    --accent-primary: #333333;
    --accent-primary-hover: #000000;
    --accent-secondary: #777777;
    --accent-error: #EF4444;
    --accent-success: #22C55E;
    --user-bubble-bg: #EEEEEE;
    --user-bubble-text: #000000;
    --ai-bubble-bg: #DDDDDD;
    --ai-bubble-text: #000000;
    --sidebar-bg: #FFFFFF;
    --sidebar-border: #DDDDDD;
    --sidebar-item-hover: #F0F0F0;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: #F0F0F0;
    --conversation-bg: #FFFFFF;
    --conversation-text: #000000;
    --conversation-indicator: #000000;
    --code-block-bg: #DDDDDD;
    --code-block-header-bg: #F5F5F5;
    --code-block-border: #DDDDDD;
}

/* Coder's Dark Theme */
[data-theme="coder-dark"] {
    --bg-primary: #000000;
    --bg-secondary: #0A0A0A;
    --text-primary: #00BCD4;
    --text-secondary: #8B949E;
    --border-color: #30363D;
    --card-bg: #0A0A0A;
    --card-border: #30363D;
    --header-bg: #000000;
    --accent-primary: #00BCD4;
    --accent-primary-hover: #0097A7;
    --accent-secondary: #8A2BE2;
    --accent-error: #EF4444;
    --accent-success: #22C55E;
    --user-bubble-bg: #2C3E50;
    --user-bubble-text: #E0E0E0;
    --ai-bubble-bg: #1A1A1A;
    --ai-bubble-text: #E0E0E0;
    --sidebar-bg: #000000;
    --sidebar-border: #30363D;
    --sidebar-item-hover: #0A0A0A;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(0, 0, 0, 0.9);
    --conversation-bg: rgba(0, 0, 0, 0.95);
    --conversation-text: #00BCD4;
    --conversation-indicator: #00BCD4;
    --code-block-bg: #1A1A1A;
    --code-block-header-bg: #27272A;
    --code-block-border: #3F3F46;
}

/* Coder's Light Theme */
[data-theme="coder-light"] {
    --bg-primary: #F0F2F5;
    --bg-secondary: #FFFFFF;
    --text-primary: #008C9D;
    --text-secondary: #718096;
    --border-color: #DDE2E8;
    --card-bg: #FFFFFF;
    --card-border: #DDE2E8;
    --header-bg: #E8EDF2;
    --accent-primary: #008C9D;
    --accent-primary-hover: #006D7D;
    --accent-secondary: #6A1B9A;
    --accent-error: #D32F2F;
    --accent-success: #388E3C;
    --user-bubble-bg: #E0F7FA;
    --user-bubble-text: #004D40;
    --ai-bubble-bg: #F0F4F8;
    --ai-bubble-text: #2C2C30;
    --sidebar-bg: #FFFFFF;
    --sidebar-border: #DDE2E8;
    --sidebar-item-hover: #F0F2F5;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(255, 255, 255, 0.8);
    --conversation-bg: rgba(255, 255, 255, 0.95);
    --conversation-text: #004D40;
    --conversation-indicator: #008C9D;
    --code-block-bg: #F5F5F5;
    --code-block-header-bg: #ECEFF1;
    --code-block-border: #CFD8DC;
}

/* Cyberpunk Theme: Dark Mode (Existing, standardized) */
[data-theme="cyberpunk-dark"] {
    --bg-primary: #000000;
    --bg-secondary: #1A0F24;
    --text-primary: #00FFFF;
    --text-secondary: #A08AB2;
    --border-color: #3A1D4D;
    --card-bg: #1A0F24;
    --card-border: #3A1D4D;
    --header-bg: #0A050F;
    --accent-primary: #00FFFF;
    --accent-primary-hover: #00CED1;
    --accent-secondary: #FF1493;
    --accent-error: #FF4500;
    --accent-success: #32CD32;
    --user-bubble-bg: #3A204D;
    --user-bubble-text: #E0E0E0;
    --ai-bubble-bg: #100814;
    --ai-bubble-text: #E0E0E0;
    --sidebar-bg: #000000;
    --sidebar-border: #3A1D4D;
    --sidebar-item-hover: #1A0F24;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(10, 5, 15, 0.9);
    --conversation-bg: rgba(10, 5, 15, 0.95);
    --conversation-text: #00FFFF;
    --conversation-indicator: #00FFFF;
    --code-block-bg: #100814;
    --code-block-header-bg: #20102A;
    --code-block-border: #3A1D4D;
}
[data-theme="cyberpunk-light"] {
    --bg-primary: #F0F8FF;
    --bg-secondary: #FFFFFF;
    --text-primary: #00CED1;
    --text-secondary: #6A5ACD;
    --border-color: #ADD8E6;
    --card-bg: #FFFFFF;
    --card-border: #ADD8E6;
    --header-bg: #E0F2F7;
    --accent-primary: #00CED1;
    --accent-primary-hover: #00BFFF;
    --accent-secondary: #FF69B4;
    --accent-error: #DC143C;
    --accent-success: #3CB371;
    --user-bubble-bg: #E0FFFF;
    --user-bubble-text: #2F4F4F;
    --ai-bubble-bg: #F0F8FF;
    --ai-bubble-text: #4169E1;
    --sidebar-bg: #FFFFFF;
    --sidebar-border: #ADD8E6;
    --sidebar-item-hover: #E0F2F7;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(255, 255, 255, 0.8);
    --conversation-bg: rgba(255, 255, 255, 0.95);
    --conversation-text: #2F4F4F;
    --conversation-indicator: #00CED1;
    --code-block-bg: #E0FFFF;
    --code-block-header-bg: #ADD8E6;
    --code-block-border: #87CEEB;
}

/* Matrix Code Theme */
[data-theme="matrix-dark"] {
    --bg-primary: #000000;
    --bg-secondary: #0A0A0A;
    --text-primary: #00FF00;
    --text-secondary: #008000;
    --border-color: #004000;
    --card-bg: #0A0A0A;
    --card-border: #004000;
    --header-bg: #000000;
    --accent-primary: #FF0000;
    --accent-primary-hover: #00CC00;
    --accent-secondary: #00FFFF;
    --accent-error: #FF0000;
    --accent-success: #00FF00;
    --user-bubble-bg: #001A00;
    --user-bubble-text: #00FF00;
    --ai-bubble-bg: #000500;
    --ai-bubble-text: #00FF00;
    --sidebar-bg: #000000;
    --sidebar-border: #004000;
    --sidebar-item-hover: #001500;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(0, 0, 0, 0.9);
    --conversation-bg: rgba(0, 0, 0, 0.95);
    --conversation-text: #00FF00;
    --conversation-indicator: #00FF00;
    --code-block-bg: #000A00;
    --code-block-header-bg: #001000;
    --code-block-border: #002000;
}
[data-theme="matrix-light"] {
    --bg-primary: #FFFFFF;
    --bg-secondary: #F0F0F0;
    --text-primary: #008000;
    --text-secondary: #404040;
    --border-color: #D0D0D0;
    --card-bg: #F0F0F0;
    --card-border: #D0D0D0;
    --header-bg: #E0E0E0;
    --accent-primary: #008000;
    --accent-primary-hover: #006000;
    --accent-secondary: #00AAAA;
    --accent-error: #CC0000;
    --accent-success: #00AA00;
    --user-bubble-bg: #E0FFE0;
    --user-bubble-text: #202020;
    --ai-bubble-bg: #F0FFF0;
    --ai-bubble-text: #303030;
    --sidebar-bg: #FFFFFF;
    --sidebar-border: #D0D0D0;
    --sidebar-item-hover: #E0E0E0;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(255, 255, 255, 0.8);
    --conversation-bg: rgba(255, 255, 255, 0.95);
    --conversation-text: #202020;
    --conversation-indicator: #008000;
    --code-block-bg: #F5FFF5;
    --code-block-header-bg: #E0FFE0;
    --code-block-border: #C0D0C0;
}

/* Solarized Theme */
[data-theme="solarized-light"] {
    --bg-primary: #FDF6E3;
    --bg-secondary: #EEE8D5;
    --text-primary: #2AA198;
    --text-secondary: #657B83;
    --border-color: #93A1A1;
    --card-bg: #EEE8D5;
    --card-border: #93A1A1;
    --header-bg: #FDF6E3;
    --accent-primary: #2AA198;
    --accent-primary-hover: #268BD2;
    --accent-secondary: #DC322F;
    --accent-error: #DC322F;
    --accent-success: #859900;
    --user-bubble-bg: #839496;
    --user-bubble-text: #FDF6E3;
    --ai-bubble-bg: #E0E0D0;
    --ai-bubble-text: #586E75;
    --sidebar-bg: #FDF6E3;
    --sidebar-border: #93A1A1;
    --sidebar-item-hover: #EEE8D5;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(255, 255, 255, 0.8);
    --conversation-bg: rgba(255, 255, 255, 0.95);
    --conversation-text: #586E75;
    --conversation-indicator: #2AA198;
    --code-block-bg: #EEE8D5;
    --code-block-header-bg: #FDF6E3;
    --code-block-border: #D0D0C0;
}
[data-theme="solarized-dark"] {
    --bg-primary: #002B36;
    --bg-secondary: #073642;
    --text-primary: #2AA198;
    --text-secondary: #839496;
    --border-color: #586E75;
    --card-bg: #073642;
    --card-border: #586E75;
    --header-bg: #002B36;
    --accent-primary: #2AA198;
    --accent-primary-hover: #268BD2;
    --accent-secondary: #DC322F;
    --accent-error: #DC322F;
    --accent-success: #859900;
    --user-bubble-bg: #586E75;
    --user-bubble-text: #FDF6E3;
    --ai-bubble-bg: #073642;
    --ai-bubble-text: #93A1A1;
    --sidebar-bg: #002B36;
    --sidebar-border: #586E75;
    --sidebar-item-hover: #073642;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(0, 43, 54, 0.9);
    --conversation-bg: rgba(0, 43, 54, 0.95);
    --conversation-text: #FDF6E3;
    --conversation-indicator: #2AA198;
    --code-block-bg: #073642;
    --code-block-header-bg: #002B36;
    --code-block-border: #586E75;
}

/* Dracula Theme */
[data-theme="dracula-dark"] {
    --bg-primary: #000000;
    --bg-secondary: #282A36;
    --text-primary: #BD93F9;
    --text-secondary: #6272A4;
    --border-color: #44475A;
    --card-bg: #282A36;
    --card-border: #44475A;
    --header-bg: #000000;
    --accent-primary: #BD93F9;
    --accent-primary-hover: #FF79C6;
    --accent-secondary: #50FA7B;
    --accent-error: #FF5555;
    --accent-success: #50FA7B;
    --user-bubble-bg: #44475A;
    --user-bubble-text: #F8F8F2;
    --ai-bubble-bg: #1A1C25;
    --ai-bubble-text: #F8F8F2;
    --sidebar-bg: #000000;
    --sidebar-border: #44475A;
    --sidebar-item-hover: #282A36;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(0, 0, 0, 0.9);
    --conversation-bg: rgba(0, 0, 0, 0.95);
    --conversation-text: #F8F8F2;
    --conversation-indicator: #BD93F9;
    --code-block-bg: #1A1C25;
    --code-block-header-bg: #2F313E;
    --code-block-border: #44475A;
}
[data-theme="dracula-light"] {
    --bg-primary: #F8F8F2;
    --bg-secondary: #F0F0E0;
    --text-primary: #FF79C6;
    --text-secondary: #6272A4;
    --border-color: #CCDEF2;
    --card-bg: #F0F0E0;
    --card-border: #CCDEF2;
    --header-bg: #E8E8E0;
    --accent-primary: #FF79C6;
    --accent-primary-hover: #BD93F9;
    --accent-secondary: #50FA7B;
    --accent-error: #FF5555;
    --accent-success: #50FA7B;
    --user-bubble-bg: #CCDEF2;
    --user-bubble-text: #282A36;
    --ai-bubble-bg: #E8E8E0;
    --ai-bubble-text: #303240;
    --sidebar-bg: #F8F8F2;
    --sidebar-border: #CCDEF2;
    --sidebar-item-hover: #F0F0E0;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(255, 255, 255, 0.8);
    --conversation-bg: rgba(255, 255, 255, 0.95);
    --conversation-text: #282A36;
    --conversation-indicator: #FF79C6;
    --code-block-bg: #E8E8E0;
    --code-block-header-bg: #D8D8D0;
    --code-block-border: #C2C2C0;
}

/* Monokai Pro Theme */
[data-theme="monokai-dark"] {
    --bg-primary: #000000;
    --bg-secondary: #2D2A2E;
    --text-primary: #A6E22E;
    --text-secondary: #75715E;
    --border-color: #49483E;
    --card-bg: #2D2A2E;
    --card-border: #49483E;
    --header-bg: #000000;
    --accent-primary: #A6E22E;
    --accent-primary-hover: #E6DB74;
    --accent-secondary: #FD971F;
    --accent-error: #F92672;
    --accent-success: #A6E22E;
    --user-bubble-bg: #49483E;
    --user-bubble-text: #FCFCFA;
    --ai-bubble-bg: #1A1A1A;
    --ai-bubble-text: #FCFCFA;
    --sidebar-bg: #000000;
    --sidebar-border: #49483E;
    --sidebar-item-hover: #2D2A2E;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(0, 0, 0, 0.9);
    --conversation-bg: rgba(0, 0, 0, 0.95);
    --conversation-text: #FCFCFA;
    --conversation-indicator: #A6E22E;
    --code-block-bg: #1A1A1A;
    --code-block-header-bg: #27252A;
    --code-block-border: #3F3C38;
}
[data-theme="monokai-light"] {
    --bg-primary: #FCFCFA;
    --bg-secondary: #F5F5F0;
    --text-primary: #F92672;
    --text-secondary: #75715E;
    --border-color: #D0D0CB;
    --card-bg: #F5F5F0;
    --card-border: #D0D0CB;
    --header-bg: #EEEEEC;
    --accent-primary: #F92672;
    --accent-primary-hover: #A6E22E;
    --accent-secondary: #FD971F;
    --accent-error: #CC3333;
    --accent-success: #A6E22E;
    --user-bubble-bg: #E0E0D8;
    --user-bubble-text: #30302E;
    --ai-bubble-bg: #EEEEEC;
    --ai-bubble-text: #40403C;
    --sidebar-bg: #FCFCFA;
    --sidebar-border: #D0D0CB;
    --sidebar-item-hover: #F5F5F0;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(255, 255, 255, 0.8);
    --conversation-bg: rgba(255, 255, 255, 0.95);
    --conversation-text: #30302E;
    --conversation-indicator: #F92672;
    --code-block-bg: #EEEEEC;
    --code-block-header-bg: #E0E0D8;
    --code-block-border: #C0C0B8;
}

/* Nord Theme (Existing, standardized) */
[data-theme="nord-dark"] {
    --bg-primary: #000000;
    --bg-secondary: #2E3440;
    --text-primary: #88C0D0;
    --text-secondary: #ECEFF4;
    --border-color: #4C566A;
    --card-bg: #2E3440;
    --card-border: #4C566A;
    --header-bg: #000000;
    --accent-primary: #88C0D0;
    --accent-primary-hover: #81A1C1;
    --accent-secondary: #B48EAD;
    --accent-error: #BF616A;
    --accent-success: #A3BE8C;
    --user-bubble-bg: #4C566A;
    --user-bubble-text: #D8DEE9;
    --ai-bubble-bg: #1A1D23;
    --ai-bubble-text: #D8DEE9;
    --sidebar-bg: #000000;
    --sidebar-border: #4C566A;
    --sidebar-item-hover: #2E3440;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(0, 0, 0, 0.9);
    --conversation-bg: rgba(0, 0, 0, 0.95);
    --conversation-text: #D8DEE9;
    --conversation-indicator: #88C0D0;
    --code-block-bg: #1A1D23;
    --code-block-header-bg: #242933;
    --code-block-border: #4C566A;
}
[data-theme="nord-light"] {
    --bg-primary: #ECEFF4;
    --bg-secondary: #D8DEE9;
    --text-primary: #5E81AC;
    --text-secondary: #4C566A;
    --border-color: #B4BFCD;
    --card-bg: #D8DEE9;
    --card-border: #B4BFCD;
    --header-bg: #DEE3EB;
    --accent-primary: #5E81AC;
    --accent-primary-hover: #81A1C1;
    --accent-secondary: #B48EAD;
    --accent-error: #BF616A;
    --accent-success: #A3BE8C;
    --user-bubble-bg: #AABECF;
    --user-bubble-text: #2E3440;
    --ai-bubble-bg: #DEE3EB;
    --ai-bubble-text: #3B4252;
    --sidebar-bg: #ECEFF4;
    --sidebar-border: #B4BFCD;
    --sidebar-item-hover: #D8DEE9;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(255, 255, 255, 0.8);
    --conversation-bg: rgba(255, 255, 255, 0.95);
    --conversation-text: #2E3440;
    --conversation-indicator: #5E81AC;
    --code-block-bg: #DEE3EB;
    --code-block-header-bg: #C0C7D1;
    --code-block-border: #B4BFCD;
}

/* Gruvbox Theme */
[data-theme="gruvbox-dark"] {
    --bg-primary: #000000;
    --bg-secondary: #282828;
    --text-primary: #83A598;
    --text-secondary: #A89984;
    --border-color: #504945;
    --card-bg: #282828;
    --card-border: #504945;
    --header-bg: #000000;
    --accent-primary: #83A598;
    --accent-primary-hover: #B8BB26;
    --accent-secondary: #FABD2F;
    --accent-error: #FB4934;
    --accent-success: #B8BB26;
    --user-bubble-bg: #504945;
    --user-bubble-text: #EBDBB2;
    --ai-bubble-bg: #1D2021;
    --ai-bubble-text: #EBDBB2;
    --sidebar-bg: #000000;
    --sidebar-border: #504945;
    --sidebar-item-hover: #282828;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(0, 0, 0, 0.9);
    --conversation-bg: rgba(0, 0, 0, 0.95);
    --conversation-text: #EBDBB2;
    --conversation-indicator: #83A598;
    --code-block-bg: #1D2021;
    --code-block-header-bg: #32302F;
    --code-block-border: #504945;
}
[data-theme="gruvbox-light"] {
    --bg-primary: #FBF1C7;
    --bg-secondary: #FEF6E4;
    --text-primary: #427B58;
    --text-secondary: #7C6F64;
    --border-color: #BDAEAA;
    --card-bg: #FEF6E4;
    --card-border: #BDAEAA;
    --header-bg: #EBDBB2;
    --accent-primary: #427B58;
    --accent-primary-hover: #8EC07C;
    --accent-secondary: #D79921;
    --accent-error: #CC241D;
    --accent-success: #8EC07C;
    --user-bubble-bg: #D5C4A1;
    --user-bubble-text: #3C3836;
    --ai-bubble-bg: #EBDBB2;
    --ai-bubble-text: #504945;
    --sidebar-bg: #FBF1C7;
    --sidebar-border: #BDAEAA;
    --sidebar-item-hover: #EBDBB2;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(255, 255, 255, 0.8);
    --conversation-bg: rgba(255, 255, 255, 0.95);
    --conversation-text: #3C3836;
    --conversation-indicator: #427B58;
    --code-block-bg: #EBDBB2;
    --code-block-header-bg: #D5C4A1;
    --code-block-border: #BDAEAA;
}

/* Catppuccin Theme */
[data-theme="catppuccin-dark"] {
    --bg-primary: #000000;
    --bg-secondary: #24273A;
    --text-primary: #8BD5CA;
    --text-secondary: #A5ADCE;
    --border-color: #494D64;
    --card-bg: #24273A;
    --card-border: #494D64;
    --header-bg: #000000;
    --accent-primary: #8BD5CA;
    --accent-primary-hover: #B7BFEF;
    --accent-secondary: #F4B8E4;
    --accent-error: #ED8796;
    --accent-success: #A6DA95;
    --user-bubble-bg: #494D64;
    --user-bubble-text: #CAD3F5;
    --ai-bubble-bg: #1A1D2A;
    --ai-bubble-text: #CAD3F5;
    --sidebar-bg: #000000;
    --sidebar-border: #494D64;
    --sidebar-item-hover: #24273A;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(0, 0, 0, 0.9);
    --conversation-bg: rgba(0, 0, 0, 0.95);
    --conversation-text: #CAD3F5;
    --conversation-indicator: #8BD5CA;
    --code-block-bg: #1A1D2A;
    --code-block-header-bg: #2E3243;
    --code-block-border: #494D64;
}
[data-theme="catppuccin-light"] {
    --bg-primary: #EFF1F5;
    --bg-secondary: #E6E9EF;
    --text-primary: #179299;
    --text-secondary: #5C5F77;
    --border-color: #CBD0E1;
    --card-bg: #E6E9EF;
    --card-border: #CBD0E1;
    --header-bg: #EAECEF;
    --accent-primary: #179299;
    --accent-primary-hover: #7287FD;
    --accent-secondary: #EA76CB;
    --accent-error: #E64553;
    --accent-success: #40A02B;
    --user-bubble-bg: #CBD0E1;
    --user-bubble-text: #4C4F69;
    --ai-bubble-bg: #EAECEF;
    --ai-bubble-text: #626880;
    --sidebar-bg: #EFF1F5;
    --sidebar-border: #CBD0E1;
    --sidebar-item-hover: #E6E9EF;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(255, 255, 255, 0.8);
    --conversation-bg: rgba(255, 255, 255, 0.95);
    --conversation-text: #4C4F69;
    --conversation-indicator: #179299;
    --code-block-bg: #EAECEF;
    --code-block-header-bg: #D4D7E2;
    --code-block-border: #C8CDDD;
}

/* Cosmic Nexus Theme: Dark Mode */
[data-theme="cosmic-nexus-dark"] {
    --bg-primary: #05050A;
    --bg-secondary: #101018;
    --text-primary: #E6E6E6;
    --text-secondary: #94A3B8;
    --border-color: #2A2A3A;
    --card-bg: #101018;
    --card-border: #2A2A3A;
    --header-bg: #0A0A10;
    --accent-primary: #00F5FF;
    --accent-primary-hover: #00CED1;
    --accent-secondary: #D400FF;
    --accent-error: #FF4500;
    --accent-success: #0AFF9D;
    --user-bubble-bg: #003344;
    --user-bubble-text: #E0FFFF;
    --ai-bubble-bg: #18052A;
    --ai-bubble-text: #E6E6E6;
    --sidebar-bg: #101018;
    --sidebar-border: #2A2A3A;
    --sidebar-item-hover: #1A1A22;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(16, 16, 24, 0.9);
    --conversation-bg: rgba(5, 5, 10, 0.95);
    --conversation-text: #E6E6E6;
    --conversation-indicator: #00F5FF;
    --code-block-bg: #18052A;
    --code-block-header-bg: #0A0A10;
    --code-block-border: #2A2A3A;
}

/* Cosmic Nexus Theme: Light Mode */
[data-theme="cosmic-nexus-light"] {
    --bg-primary: #F0F8FF;
    --bg-secondary: #FFFFFF;
    --text-primary: #1F2937;
    --text-secondary: #4B5563;
    --border-color: #E5E7EB;
    --card-bg: #FFFFFF;
    --card-border: #E5E7EB;
    --header-bg: #EAF0F8;
    --accent-primary: #00CED1;
    --accent-primary-hover: #00BFFF;
    --accent-secondary: #9370DB;
    --accent-error: #FF4500;
    --accent-success: #0AFF9D;
    --user-bubble-bg: #E0FFFF;
    --user-bubble-text: #004D40;
    --ai-bubble-bg: #F3F8FF;
    --ai-bubble-text: #2F4F4F;
    --sidebar-bg: #FFFFFF;
    --sidebar-border: #E5E7EB;
    --sidebar-item-hover: #EAF0F8;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(255, 255, 255, 0.85);
    --conversation-bg: rgba(255, 255, 255, 0.9);
    --conversation-text: #1F2937;
    --conversation-indicator: #00CED1;
    --code-block-bg: #F3F8FF;
    --code-block-header-bg: #EAF0F8;
    --code-block-border: #E5E7EB;
}

/* Starship Minimal Theme: Dark Mode */
[data-theme="starship-minimal-dark"] {
    --bg-primary: #0D1117;
    --bg-secondary: #161B22;
    --text-primary: #F0F6FC;
    --text-secondary: #8B949E;
    --border-color: #30363D;
    --card-bg: #161B22;
    --card-border: #30363D;
    --header-bg: #0D1117;
    --accent-primary: #2F81F7;
    --accent-primary-hover: #1C6EDD;
    --accent-secondary: #58A6FF;
    --accent-error: #F87171;
    --accent-success: #4ADE80;
    --user-bubble-bg: #1F385B;
    --user-bubble-text: #DBEAFE;
    --ai-bubble-bg: #21262D;
    --ai-bubble-text: #F0F6FC;
    --sidebar-bg: #161B22;
    --sidebar-border: #30363D;
    --sidebar-item-hover: #21262D;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(13, 17, 23, 0.9);
    --conversation-bg: rgba(13, 17, 23, 0.95);
    --conversation-text: #F0F6FC;
    --conversation-indicator: #2F81F7;
    --code-block-bg: #21262D;
    --code-block-header-bg: #161B22;
    --code-block-border: #30363D;
}

/* Starship Minimal Theme: Light Mode */
[data-theme="starship-minimal-light"] {
    --bg-primary: #F0F4F8;
    --bg-secondary: #FFFFFF;
    --text-primary: #2D3748;
    --text-secondary: #718096;
    --border-color: #E2E8F0;
    --card-bg: #FFFFFF;
    --card-border: #E2E8F0;
    --header-bg: #EDF2F7;
    --accent-primary: #1E90FF;
    --accent-primary-hover: #107EEB;
    --accent-secondary: #63B2FF;
    --accent-error: #EF4444;
    --accent-success: #22C55E;
    --user-bubble-bg: #DBEAFE;
    --user-bubble-text: #1E40AF;
    --ai-bubble-bg: #F3F8FF;
    --ai-bubble-text: #2D3748;
    --sidebar-bg: #FFFFFF;
    --sidebar-border: #E2E8F0;
    --sidebar-item-hover: #F0F4F8;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(255, 255, 255, 0.85);
    --conversation-bg: rgba(255, 255, 255, 0.9);
    --conversation-text: #2D3748;
    --conversation-indicator: #1E90FF;
    --code-block-bg: #F3F8FF;
    --code-block-header-bg: #EDF2F7;
    --code-block-border: #E2E8F0;
}

/* Offbeat Cosmic Pastels Theme: Dark Mode */
[data-theme="offbeat-cosmic-dark"] {
    --bg-primary: #0C0F16;
    --bg-secondary: #1A1E2B;
    --text-primary: #FDFDFD;
    --text-secondary: #A0A5B5;
    --border-color: #30354F;
    --card-bg: #1A1E2B;
    --card-border: #30354F;
    --header-bg: #0C0F16;
    --accent-primary: #5CE1E6;
    --accent-primary-hover: #45CCD1;
    --accent-secondary: #C780FF;
    --accent-error: #FF6347;
    --accent-success: #7FFF00;
    --user-bubble-bg: #3A2B5B;
    --user-bubble-text: #E0E0E0;
    --ai-bubble-bg: #2B1E40;
    --ai-bubble-text: #FDFDFD;
    --sidebar-bg: #1A1E2B;
    --sidebar-border: #30354F;
    --sidebar-item-hover: #212535;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(12, 15, 22, 0.9);
    --conversation-bg: rgba(12, 15, 22, 0.95);
    --conversation-text: #FDFDFD;
    --conversation-indicator: #5CE1E6;
    --code-block-bg: #2B1E40;
    --code-block-header-bg: #1A1E2B;
    --code-block-border: #30354F;
}

/* Offbeat Cosmic Pastels Theme: Light Mode */
[data-theme="offbeat-cosmic-light"] {
    --bg-primary: #F9FDFD;
    --bg-secondary: #FFFFFF;
    --text-primary: #2D3748;
    --text-secondary: #718096;
    --border-color: #E2E8F0;
    --card-bg: #FFFFFF;
    --card-border: #E2E8F0;
    --header-bg: #EEF8F8;
    --accent-primary: #00BCD4;
    --accent-primary-hover: #00ACC1;
    --accent-secondary: #A078E0;
    --accent-error: #EF4444;
    --accent-success: #22C55E;
    --user-bubble-bg: #DBFEFF;
    --user-bubble-text: #004D40;
    --ai-bubble-bg: #E0FFFF;
    --ai-bubble-text: #2D3748;
    --sidebar-bg: #FFFFFF;
    --sidebar-border: #E2E8F0;
    --sidebar-item-hover: #EEF8F8;
    --loader-dot-color: var(--accent-primary);
    --main-chat-window-bg: rgba(255, 255, 255, 0.85);
    --conversation-bg: rgba(255, 255, 255, 0.9);
    --conversation-text: #2D3748;
    --conversation-indicator: #00BCD4;
    --code-block-bg: #E0FFFF;
    --code-block-header-bg: #EEF8F8;
    --code-block-border: #E2E8F0;
}

/* --- MERGED THEMES FROM PART 2 END --- */

/* --- Base Application Styles --- */
body {
  background: var(--bg-primary); 
  color: var(--text-primary);
  font-family: 'Inter', Arial, Helvetica, sans-serif;
  height: 100vh;
  overflow: hidden;
  transition: background-color 0.6s ease, color 0.6s ease;
}

/* Custom scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
::-webkit-scrollbar-thumb {
  background: color-mix(in srgb, var(--accent-primary) 50%, transparent); 
  border-radius: 4px;
}
::-webkit-scrollbar-track {
  background: var(--bg-primary);
}

/* Markdown and Code Styling Overrides */

/* Code block wrapper (created by custom renderer) */
.code-block-container {
    background-color: var(--code-block-bg) !important;
    border: 1px solid var(--code-block-border) !important;
    border-radius: 0.5rem !important;
    margin-top: 1rem !important;
    margin-bottom: 1rem !important;
    overflow: hidden; /* Contains children border radius */
}

/* Code block container (standard markdown pre tag) */
.message-content pre {
    /* Remove default markdown styles from PRE */
    background-color: var(--code-block-bg) !important;
    border: none !important;
    margin: 0 !important;
    padding: 0 !important;
    border-radius: 0 !important;
    overflow-x: auto; /* FIX: Enable horizontal scroll */
}

/* Code block header */
.code-block-header {
    background-color: var(--code-block-header-bg);
    color: var(--text-secondary);
    padding: 0.5rem 1rem;
    border-bottom: 1px solid var(--code-block-border);
    font-size: 0.85em;
    display: flex; /* Ensure button aligns */
    justify-content: space-between;
    align-items: center;
}

/* Code content inside pre (Prism.js applies most styling here) */
.message-content pre code {
    /* Override Prism's default padding/margin/background/text settings */
    color: var(--text-primary); /* Use theme color for text */
    display: block;
    padding: 1rem !important; /* Padding for the code content */
    background: transparent !important; /* Use container background, not code background */
    min-width: 100%; /* Important for horizontal scrolling */
    box-sizing: border-box;
    /* FIX: Force content not to wrap for horizontal scrolling */
    white-space: pre !important; /* <-- ADD THIS LINE */
    max-width: 1000px;
}

/* Inline code */
.message-content code:not(pre > code) {
    background-color: color-mix(in srgb, var(--accent-primary) 15%, transparent) !important;
    border-radius: 0.25rem;
    padding: 0.2em 0.4em;
    font-size: 0.9em;
    color: var(--accent-primary) !important;
}

/* Styling for button when Speech Recognition is active */
.voice-input-active {
    background-color: var(--accent-error) !important;
    animation: pulse-red 1s infinite cubic-bezier(0.4, 0, 0.6, 1);
}
@keyframes pulse-red {
    0%, 100% { box-shadow: 0 0 0 0 color-mix(in srgb, var(--accent-error) 70%, transparent); }
    50% { box-shadow: 0 0 0 10px color-mix(in srgb, var(--accent-error) 0%, transparent); }
}

/* User Bubble Styles (Ensure they use the variables) */
.chat-message.user {
    background-color: var(--user-bubble-bg);
    color: var(--user-bubble-text);
}

/* AI Bubble Styles (Ensure they use the variables) */
.chat-message.model {
    background-color: var(--ai-bubble-bg);
    color: var(--ai-bubble-text);
    border: 1px solid var(--border-color);
}